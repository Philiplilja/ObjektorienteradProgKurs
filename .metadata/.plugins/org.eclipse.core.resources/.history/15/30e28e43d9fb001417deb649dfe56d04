import java.util.ArrayList;

import javax.swing.*;

public class Game {

	private Board board;
	private int gameArray[][];

	private ArrayList<GameListener> gameListenerArray = new ArrayList<GameListener>();
	
	Game(Board B) {
		gameArray = new int[3][3];
		board = B;

		for (int i = 0; i < 3; i++) {
			for (int j = 0; j < 3; j++) {
				gameArray[i][j] = 0;
			}
		}
	}

	private void Winning(int selection) { // checking the array index

		if ((gameArray[0][0] == selection && gameArray[0][1] == selection && gameArray[0][2] == selection)
				|| (gameArray[1][0] == selection && gameArray[1][1] == selection && gameArray[1][2] == selection)
				|| (gameArray[2][0] == selection && gameArray[2][1] == selection && gameArray[2][2] == selection)) {

			for(GameListener a : gameListenerArray){
				a.onGameOver(selection);
			}
		}

		else if ((gameArray[0][0] == selection && gameArray[1][0] == selection && gameArray[2][0] == selection)
				|| (gameArray[0][1] == selection && gameArray[1][1] == selection && gameArray[2][1] == selection)
				|| (gameArray[0][2] == selection && gameArray[1][2] == selection && gameArray[2][2] == selection)) {

			for(GameListener a : gameListenerArray){
				a.onGameOver(selection);
			}
		}

		else if ((gameArray[0][0] == selection && gameArray[1][1] == selection && gameArray[2][2] == selection)
				|| (gameArray[2][0] == selection && gameArray[1][1] == selection && gameArray[0][2] == selection)){

			for(GameListener a : gameListenerArray){
				a.onGameOver(selection);
			}
		}
	}
	
	public void ArrayIni(int i, int j, int selection) {
		gameArray[i][j] = selection;
		Winning(selection);
	}
}